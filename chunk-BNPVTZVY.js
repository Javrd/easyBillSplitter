import{a as h}from"./chunk-6BZCFKK7.js";import{S as o,X as n}from"./chunk-DPZDZGEI.js";import{i as e}from"./chunk-OYAVQN5W.js";var g=(()=>{let r=class r{constructor(t){this.storage=t,this.storageReady=this.init()}init(){return e(this,null,function*(){yield this.storage.create()})}saveUsers(t){return e(this,null,function*(){return yield this.storageReady,this.storage.set("users",t)})}getUsers(){return e(this,null,function*(){return yield this.storageReady,(yield this.storage.get("users"))||[]})}saveHistoryEntry(t){return e(this,null,function*(){yield this.storageReady;let s=(yield this.storage.get("history"))||[],a;return s.length>0?a=s[s.length-1].id+1:a=1,s.push({id:a,users:JSON.parse(JSON.stringify(t))}),this.storage.set("history",history)})}getHistory(t){return e(this,null,function*(){return yield this.storageReady,(yield this.storage.get("history")).find(a=>a.id===+t)})}clearHistory(){return e(this,null,function*(){return yield this.storageReady,this.storage.set("history",[])})}addUser(t){return e(this,null,function*(){let s=yield this.getUsers();if(!s.some(a=>a.name===t.name))return s.push(t),this.saveUsers(s)})}};r.\u0275fac=function(s){return new(s||r)(n(h))},r.\u0275prov=o({token:r,factory:r.\u0275fac,providedIn:"root"});let i=r;return i})();export{g as a};
